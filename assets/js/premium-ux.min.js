(()=>{class l{constructor(){this.init()}init(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const s=document.querySelector(e.getAttribute("href"));s&&(t.preventDefault(),this.scrollToElement(s))})}),this.createBackToTopButton()}scrollToElement(e,t=80){const o=e.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"}),e.id&&history.pushState(null,null,`#${e.id}`),e.setAttribute("tabindex","-1"),e.focus()}createBackToTopButton(){const e=document.createElement("button");e.className="ts-back-to-top",e.setAttribute("aria-label","Back to top"),e.innerHTML=`
      <svg width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
      </svg>
    `,e.style.display="none",document.body.appendChild(e),window.addEventListener("scroll",()=>{window.pageYOffset>500?e.style.display="flex":e.style.display="none"}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}}class n{constructor(){this.images=document.querySelectorAll('img[data-src], img[loading="lazy"]'),this.iframes=document.querySelectorAll("iframe[data-src]"),this.init()}init(){"IntersectionObserver"in window?this.createObserver():this.loadAll()}createObserver(){const e={root:null,rootMargin:"50px",threshold:.01},t=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&(this.loadElement(o.target),t.unobserve(o.target))})},e);this.images.forEach(s=>t.observe(s)),this.iframes.forEach(s=>t.observe(s))}loadElement(e){if(e.dataset.src){const t=e.dataset.src;e.tagName==="IMG"?(e.src=t,e.dataset.srcset&&(e.srcset=e.dataset.srcset)):e.tagName==="IFRAME"&&(e.src=t),e.addEventListener("load",()=>{e.classList.add("loaded"),delete e.dataset.src,delete e.dataset.srcset})}}loadAll(){this.images.forEach(e=>this.loadElement(e)),this.iframes.forEach(e=>this.loadElement(e))}}class c{constructor(){this.init()}init(){this.checkWebPSupport(),this.optimizeImages()}checkWebPSupport(){const e=new Image;e.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",e.onload=e.onerror=()=>{document.documentElement.classList.add(e.height===1?"webp":"no-webp")}}optimizeImages(){document.querySelectorAll("img:not([data-optimized])").forEach(t=>{!t.loading&&!t.classList.contains("no-lazy")&&(t.loading="lazy"),"decoding"in t&&(t.decoding="async"),t.dataset.optimized="true"})}}class d{constructor(){this.isNavigating=!1,this.init()}init(){document.addEventListener("click",e=>{const t=e.target.closest("a");this.shouldIntercept(t)&&(e.preventDefault(),this.navigate(t.href))}),window.addEventListener("popstate",()=>{this.navigate(location.href,!1)}),this.fadeIn()}shouldIntercept(e){if(!e||this.isNavigating)return!1;const t=e.getAttribute("href");if(!t||t.startsWith("#")||t.startsWith("mailto:")||t.startsWith("tel:"))return!1;try{return new URL(t,window.location.origin).origin===window.location.origin}catch(s){return!1}}async navigate(e,t=!0){if(!this.isNavigating){this.isNavigating=!0;try{await this.fadeOut(),t&&history.pushState(null,"",e);const o=await(await fetch(e)).text(),i=new DOMParser().parseFromString(o,"text/html");this.replaceContent(i),await this.fadeIn(),window.scrollTo(0,0)}catch(s){console.error("Navigation error:",s),window.location.href=e}finally{this.isNavigating=!1}}}fadeOut(){return new Promise(e=>{document.body.classList.add("page-transition-out"),setTimeout(e,300)})}fadeIn(){return new Promise(e=>{document.body.classList.remove("page-transition-out"),document.body.classList.add("page-transition-in"),setTimeout(()=>{document.body.classList.remove("page-transition-in"),e()},300)})}replaceContent(e){document.title=e.title;const t=e.querySelector("main"),s=document.querySelector("main");t&&s&&(s.innerHTML=t.innerHTML),["description","keywords"].forEach(o=>{const r=e.querySelector(`meta[name="${o}"]`),i=document.querySelector(`meta[name="${o}"]`);r&&i&&i.setAttribute("content",r.getAttribute("content"))}),this.reinitializeComponents()}reinitializeComponents(){window.lazyLoader&&(window.lazyLoader=new n),window.dispatchEvent(new CustomEvent("page-transition-complete"))}}class u{constructor(){this.bar=document.querySelector("[data-scroll-progress]"),this.bar&&this.init()}init(){window.addEventListener("scroll",()=>this.update(),{passive:!0}),this.update()}update(){const e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=e/t*100;this.bar.style.width=s+"%"}}class m{constructor(e){this.forms=document.querySelectorAll(e),this.init()}init(){this.forms.forEach(e=>{e.querySelectorAll("input, textarea, select").forEach(s=>{s.addEventListener("blur",()=>this.validateField(s)),s.addEventListener("input",()=>{s.classList.contains("ts-form-group--error")&&this.validateField(s)})}),e.addEventListener("submit",s=>{this.validateForm(e)||s.preventDefault()})})}validateField(e){const t=e.closest(".ts-form-group");if(!t)return!0;const s=t.querySelector(".ts-form-error");let o=!0,r="";if(e.hasAttribute("required")&&!e.value.trim()&&(o=!1,r="This field is required"),e.type==="email"&&e.value&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)||(o=!1,r="Please enter a valid email address")),e.type==="tel"&&e.value&&(!/^[\d\s\-\(\)\+]+$/.test(e.value)||e.value.replace(/\D/g,"").length<10)&&(o=!1,r="Please enter a valid phone number"),o)t.classList.remove("ts-form-group--error"),t.classList.add("ts-form-group--success"),s&&(s.textContent="");else if(t.classList.remove("ts-form-group--success"),t.classList.add("ts-form-group--error"),s)s.textContent=r;else{const i=document.createElement("span");i.className="ts-form-error",i.textContent=r,t.appendChild(i)}return o}validateForm(e){const t=e.querySelectorAll("input, textarea, select");let s=!0;if(t.forEach(o=>{this.validateField(o)||(s=!1)}),!s){const o=e.querySelector(".ts-form-group--error input, .ts-form-group--error textarea, .ts-form-group--error select");o&&o.focus()}return s}}document.addEventListener("DOMContentLoaded",()=>{const a=window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.smoothScroll=new l,window.lazyLoader=new n,window.imageOptimizer=new c,window.scrollProgress=new u,window.formValidator=new m(".ts-form, form"),a||(window.pageTransitions=new d),setTimeout(()=>{document.body.classList.add("page-loaded")},100),console.log("\u2728 Premium UX enhancements loaded")});typeof module!="undefined"&&module.exports&&(module.exports={SmoothScroll:l,LazyLoader:n,ImageOptimizer:c,PageTransitions:d,ScrollProgress:u,FormValidator:m});})();
