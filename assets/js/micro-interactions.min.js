(()=>{(function(){"use strict";const s=window.matchMedia("(prefers-reduced-motion: reduce)").matches;function u(){if(s)return;const o={threshold:.1,rootMargin:"0px 0px -50px 0px"},e=new IntersectionObserver(n=>{n.forEach(t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))})},o);document.querySelectorAll(".fade-in-scroll").forEach(n=>{e.observe(n)}),document.querySelectorAll(".section-divider").forEach(n=>{e.observe(n)})}function f(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(n){const t=this.getAttribute("href");if(t==="#")return;const r=document.querySelector(t);if(r){n.preventDefault();const i=r.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:s?"auto":"smooth"}),history.pushState(null,null,t)}})})}function v(){const o=document.querySelectorAll("section[id]"),e=document.querySelectorAll('.nav-link[href^="#"]');function n(){const t=window.scrollY+100;o.forEach(r=>{const i=r.offsetTop,a=r.offsetHeight,l=r.getAttribute("id");t>=i&&t<i+a&&e.forEach(c=>{c.classList.remove("active"),c.getAttribute("href")===`#${l}`&&c.classList.add("active")})})}window.addEventListener("scroll",n,{passive:!0}),n()}function h(){document.querySelectorAll("textarea.auto-grow").forEach(o=>{o.style.overflow="hidden";const e=()=>{o.style.height="auto",o.style.height=o.scrollHeight+"px"};o.addEventListener("input",e),e()}),document.querySelectorAll(".form-group").forEach(o=>{const e=o.querySelector("input, textarea"),n=o.querySelector("label");if(!e||!n)return;const t=()=>{e.value||document.activeElement===e?n.classList.add("floating"):n.classList.remove("floating")};e.addEventListener("focus",t),e.addEventListener("blur",t),e.addEventListener("input",t),t()})}function m(){if("loading"in HTMLImageElement.prototype)document.querySelectorAll("img[data-src]").forEach(o=>{o.src=o.dataset.src,o.removeAttribute("data-src")});else{const o=new IntersectionObserver(e=>{e.forEach(n=>{if(n.isIntersecting){const t=n.target;t.src=t.dataset.src,t.removeAttribute("data-src"),o.unobserve(t)}})});document.querySelectorAll("img[data-src]").forEach(e=>{o.observe(e)})}}function g(){if(s)return;document.querySelectorAll(".card, .service-card, .plan-card").forEach(e=>{e.addEventListener("mousemove",n=>{const t=e.getBoundingClientRect(),r=n.clientX-t.left,i=n.clientY-t.top,a=t.width/2,l=t.height/2,c=(i-l)/20,p=(a-r)/20;e.style.transform=`perspective(1000px) rotateX(${c}deg) rotateY(${p}deg) translateZ(10px)`}),e.addEventListener("mouseleave",()=>{e.style.transform=""})})}function d(){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",d);return}u(),f(),v(),h(),m(),g(),console.log("\u2728 Tillerstead micro-interactions initialized")}d()})();})();
