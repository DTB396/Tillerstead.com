(()=>{class i{constructor(e="[data-contact-form]"){this.form=document.querySelector(e),this.form&&(this.fields={name:this.form.querySelector('[name="name"]'),email:this.form.querySelector('[name="email"]'),phone:this.form.querySelector('[name="phone"]'),service:this.form.querySelector('[name="service"]'),message:this.form.querySelector('[name="message"]')},this.errors={},this.init())}init(){Object.values(this.fields).forEach(e=>{e&&(e.addEventListener("blur",()=>this.validateField(e)),e.addEventListener("input",()=>this.clearError(e)))}),this.form.addEventListener("submit",e=>this.handleSubmit(e))}validateField(e){const t=e.getAttribute("name"),s=e.value.trim();let r=null;switch(t){case"name":s?s.length<2&&(r="Name must be at least 2 characters"):r="Name is required";break;case"email":s?this.isValidEmail(s)||(r="Please enter a valid email"):r="Email is required";break;case"phone":s?this.isValidPhone(s)||(r="Please enter a valid phone number"):r="Phone number is required";break;case"service":s||(r="Please select a service");break;case"message":s?s.length<10&&(r="Message must be at least 10 characters"):r="Message is required";break}return r?(this.setError(e,r),!1):(this.clearError(e),!0)}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}isValidPhone(e){return/^[\d\-\+\(\)\s]{10,}$/.test(e.replace(/\s/g,""))}setError(e,t){const s=e.getAttribute("name");this.errors[s]=t,e.classList.add("has-error"),e.classList.remove("has-success");let r=e.nextElementSibling;r!=null&&r.classList.contains("field-error")||(r=document.createElement("div"),r.className="field-error",e.parentNode.insertBefore(r,e.nextSibling)),r.textContent=t,r.style.display="block",e.animate([{transform:"translateX(-5px)"},{transform:"translateX(5px)"},{transform:"translateX(-5px)"},{transform:"translateX(0)"}],{duration:300,easing:"ease-in-out"})}clearError(e){const t=e.getAttribute("name");delete this.errors[t],e.classList.remove("has-error");const s=e.nextElementSibling;s!=null&&s.classList.contains("field-error")&&(s.style.display="none")}handleSubmit(e){e.preventDefault();let t=!0;if(Object.values(this.fields).forEach(a=>{a&&!this.validateField(a)&&(t=!1)}),!t){this.showError("Please fix the errors above");return}const s=this.form.querySelector('[type="submit"]'),r=s.textContent;s.disabled=!0,s.innerHTML='<span class="spinner"></span> Sending...',setTimeout(()=>{this.showSuccess("Thank you! We'll be in touch shortly."),this.form.reset(),s.disabled=!1,s.textContent=r,Object.values(this.fields).forEach(a=>{a&&a.classList.remove("has-error","has-success")})},2e3)}showError(e){const t=document.createElement("div");t.className="form-alert form-alert--error",t.textContent=e,this.form.insertBefore(t,this.form.firstChild),setTimeout(()=>{t.animate([{opacity:1},{opacity:0}],{duration:300}),setTimeout(()=>t.remove(),300)},4e3)}showSuccess(e){const t=document.createElement("div");t.className="form-alert form-alert--success",t.textContent=e,t.textContent="Thank you! We'll be in touch shortly.",this.form.insertBefore(t,this.form.firstChild),setTimeout(()=>{t.animate([{opacity:1},{opacity:0}],{duration:300}),setTimeout(()=>t.remove(),300)},4e3)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new i}):new i;})();
