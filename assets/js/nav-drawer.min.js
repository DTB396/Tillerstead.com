(()=>{document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".nav-drawer"),n=document.querySelector(".nav-overlay"),i=document.querySelector(".nav-toggle, [data-nav-toggle]"),c=document.querySelector(".nav-close, [data-nav-close]"),u='a, button, input, [tabindex]:not([tabindex="-1"])';if(!t||!i)return;const l=t.querySelectorAll(".nav-submenu-group");l.forEach(e=>{const o=e.querySelector(".has-submenu");o&&o.addEventListener("click",function(a){a.preventDefault();const r=e.classList.contains("open");l.forEach(v=>v.classList.remove("open")),r||e.classList.add("open")})});function f(){t.classList.add("is-open"),n&&n.classList.add("is-open"),i.setAttribute("aria-expanded","true"),document.body.classList.add("nav-open"),c&&c.focus()}function s(){t.classList.remove("is-open"),n&&n.classList.remove("is-open"),i.setAttribute("aria-expanded","false"),document.body.classList.remove("nav-open"),i.focus()}i.addEventListener("click",function(){t.classList.contains("is-open")?s():f()}),c&&c.addEventListener("click",s),n&&n.addEventListener("click",s),document.addEventListener("keydown",function(e){if(t.classList.contains("is-open")&&(e.key==="Escape"&&s(),e.key==="Tab")){const o=t.querySelectorAll(u),a=o[0],r=o[o.length-1];e.shiftKey&&document.activeElement===a?(e.preventDefault(),r.focus()):!e.shiftKey&&document.activeElement===r&&(e.preventDefault(),a.focus())}}),t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(){setTimeout(s,150)})});let d;window.addEventListener("resize",function(){clearTimeout(d),d=setTimeout(function(){window.innerWidth>=1024&&t.classList.contains("is-open")&&s()},100)})});})();
