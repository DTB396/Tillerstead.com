(()=>{var A=Object.create;var w=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var M=(t,s,a,u)=>{if(s&&typeof s=="object"||typeof s=="function")for(let i of x(s))!I.call(t,i)&&i!==a&&w(t,i,{get:()=>s[i],enumerable:!(u=k(s,i))||u.enumerable});return t};var g=(t,s,a)=>(a=t!=null?A(q(t)):{},M(s||!t||!t.__esModule?w(a,"default",{value:t,enumerable:!0}):a,t));(()=>{const t=()=>{const e=document.querySelector(".mobile-nav.is-open, .mobile-nav-shell.is-open"),o=document.querySelector('[role="dialog"][aria-hidden="false"]');!e&&!o&&(document.body.style.overflow="",document.documentElement.style.overflow="")};t(),setTimeout(t,500),window.addEventListener("resize",t),document.documentElement.classList.add("high-contrast"),document.documentElement.setAttribute("data-high-contrast","true"),document.addEventListener("keydown",e=>{if(!(!e.altKey||!e.shiftKey)&&e.code==="KeyA")if(e.preventDefault(),localStorage.getItem("ts:audit")==="1"){localStorage.removeItem("ts:audit");const c=document.querySelector(".ts-dev-overlay");c&&c.remove()}else localStorage.setItem("ts:audit","1"),location.search.includes("audit=1")?location.reload():location.href=location.pathname+"?audit=1"});const s=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;document.addEventListener("click",e=>{const o=e.target.closest('a[href^="#"]');if(!o)return;const c=o.getAttribute("href");if(!c||c==="#")return;const f=c.slice(1),d=document.getElementById(f);if(!d)return;e.preventDefault();const n=s?"auto":"smooth";d.scrollIntoView({behavior:n,block:"start"}),d.setAttribute("tabindex","-1"),d.focus({preventScroll:!0}),setTimeout(()=>d.removeAttribute("tabindex"),1e3)});const a=document.querySelector("[data-nav-toggle]"),u=document.querySelector("[data-nav-close]"),i=document.querySelector("[data-nav-overlay]"),m=document.getElementById("mobile-nav"),O=document.querySelector("[data-nav-container]"),b=()=>{a.setAttribute("aria-expanded","true"),i.classList.add("is-open"),m.classList.add("is-open"),document.body.style.overflow="hidden";const e=m.querySelector(".mobile-nav-link");e&&setTimeout(()=>e.focus(),300)},l=()=>{a.setAttribute("aria-expanded","false"),i.classList.remove("is-open"),m.classList.remove("is-open"),document.body.style.overflow="",a.focus()};if(a&&m&&i){a.addEventListener("click",()=>{a.getAttribute("aria-expanded")==="true"?l():b()}),u&&u.addEventListener("click",l),i.addEventListener("click",l),document.addEventListener("keydown",o=>{o.key==="Escape"&&a.getAttribute("aria-expanded")==="true"&&l()}),m.querySelectorAll(".mobile-nav-link").forEach(o=>{o.addEventListener("click",()=>{setTimeout(l,200)})});let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{window.innerWidth>1080&&a.getAttribute("aria-expanded")==="true"&&l()},150)})}if(document.querySelectorAll("[data-read-more]").forEach(e=>{e.addEventListener("click",function(){const o=this.previousElementSibling;o&&o.classList.contains("is-truncated")?(o.classList.remove("is-truncated"),this.textContent="Read Less",this.setAttribute("aria-label","Show less of review")):o&&(o.classList.add("is-truncated"),this.textContent="Read More",this.setAttribute("aria-label","Read full review"))})}),document.querySelectorAll("[data-logo-link]").forEach(e=>{e.addEventListener("click",o=>{(window.location.pathname==="/"||window.location.pathname==="/index.html"||window.location.pathname.endsWith("/tillerstead-stone/"))&&(o.preventDefault(),window.location.href="/about/")})}),!window.matchMedia("(prefers-reduced-motion: reduce)").matches){const e=document.querySelectorAll(".section-header, .service-card, .process-step, .material-card, .testimonial-card, .highlight-item");e.forEach((n,r)=>{n.style.opacity="0",n.style.transform="translateY(30px)",n.style.transition=`opacity 0.6s ease ${r%4*.1}s, transform 0.6s ease ${r%4*.1}s`});const o={root:null,rootMargin:"0px 0px -50px 0px",threshold:.1},c=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&(r.target.style.opacity="1",r.target.style.transform="translateY(0)",c.unobserve(r.target))})},o);e.forEach(n=>c.observe(n));const f=document.querySelector(".hero-image");if(f){let n=!1;window.addEventListener("scroll",()=>{n||(window.requestAnimationFrame(()=>{const r=window.pageYOffset,v=r*.15;r<600&&(f.style.transform=`translateY(${v}px)`),n=!1}),n=!0)},{passive:!0})}document.querySelectorAll("[data-counter]").forEach(n=>{const r=new IntersectionObserver(v=>{v.forEach(E=>{if(E.isIntersecting){const h=parseInt(n.dataset.counter,10);let p=0;const L=h/50,S=setInterval(()=>{p+=L,p>=h?(n.textContent=h,clearInterval(S)):n.textContent=Math.floor(p)},30);r.unobserve(n)}})},{threshold:.5});r.observe(n)})}document.documentElement.style.scrollBehavior="smooth"})();const y=async()=>{try{const{initAllAnimations:t}=await import("./animations-premium.js");t(),console.log("\u2713 Premium animations loaded")}catch(t){console.log("Premium animations not available (GSAP not loaded)")}try{const{PremiumContactForm:t}=await import("./form-validation-premium.js");console.log("\u2713 Premium form validation loaded")}catch(t){console.log("Premium form validation not available")}try{const{default:t}=await import("./carousel-premium.js");console.log("\u2713 Premium carousel loaded")}catch(t){console.log("Premium carousel not available (Swiper not loaded)")}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y):y();})();
