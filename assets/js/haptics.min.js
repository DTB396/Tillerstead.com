(()=>{class a{constructor(){this.isSupported="vibrate"in navigator,this.enabled=this.loadPreference()}trigger(e="light"){if(!this.isSupported||!this.enabled)return;const i={light:10,medium:20,heavy:30,success:[10,50,10],warning:[20,100,20],error:[30,100,30,100,30],tap:10,longPress:50,swipe:[10,30,10],toggle:15,selection:5,notification:[20,100,20,100,20]},t=i[e]||i.light;navigator.vibrate(t)}cancel(){this.isSupported&&navigator.vibrate(0)}setEnabled(e){this.enabled=e,this.savePreference(e)}isEnabled(){return this.enabled&&this.isSupported}savePreference(e){try{localStorage.setItem("tillerstead-haptics-enabled",e?"1":"0")}catch(i){}}loadPreference(){try{const e=localStorage.getItem("tillerstead-haptics-enabled");return e===null?!0:e==="1"}catch(e){return!0}}}const r=new a;window.hapticFeedback=n=>r.trigger(n);window.haptics=r;document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",t=>{const s=t.target.closest('button, .btn, [role="button"]');s&&!s.disabled&&r.trigger("tap")},{passive:!0}),document.addEventListener("click",t=>{const s=t.target.closest("a[href]");s&&!s.classList.contains("no-haptic")&&r.trigger("light")},{passive:!0}),document.querySelectorAll("input, textarea, select").forEach(t=>{t.addEventListener("focus",()=>r.trigger("selection"),{passive:!0})}),document.querySelectorAll('input[type="checkbox"], input[type="radio"]').forEach(t=>{t.addEventListener("change",()=>r.trigger("toggle"),{passive:!0})}),document.querySelectorAll("form").forEach(t=>{t.addEventListener("submit",()=>r.trigger("success"),{passive:!0})})});var o=r;})();
